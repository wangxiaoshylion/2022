webpack_require
源代码和构建产物之间的关系

### webpack 如何将源代码转换成 dist/main.js?

1. 根据配置信息找到入口文件
2. 收集入口文件相关依赖
3. 输出文件到硬盘
   Q: 浏览器不认识 html,css, js 以外的文件格式，所以需要对资源文件做转换 > Loader 系统
   Q: 打包前是否可以进行一些优化操作，比如校验用户传参、哪些模块可以忽略编译直接走 cdn、编译完成后将输出内容插入到 html > Plugin 系统

### 架构设计

1. 打包前
2. 编译阶段
3. 打包结束后
   Q: watch mode ?

### 具体实现？

1. 搭建结构，读取配置参数
2. 用配置参数对象初始化 Compiler 对象
3. 挂载配置文件中的插件
4. 执行 Compiler 对象的 run 方法开始执行编译
5. 根据配置文件中的 entry 配置项找到所有的入口
6. 从入口文件出发，调用配置的 loader 规则，对各模块进行编译
7. 找出此模块所依赖的模块，再对依赖模块进行编译
8. 等所有模块都编译完成后，根据模块之间的依赖关系，组装代码块 chunk
9. 把各个代码块 chunk 转换成一个一个文件加入到输出列表
10. 确定好输出内容之后，根据配置的输出路径和文件名，将文件内容写入到文件系统

### 导入的 CDN 如何和 webpack 构建配合使用呢？

externals: 指定某些包运行时从外部获取
